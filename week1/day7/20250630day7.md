# 일차(2025.06.30)
## 개요
- 결측치 처리 익히기
- 1주차 총 복습 예제
```python
import pandas as pd
import numpy as np

data = {
    '이름': ['철수', '영희', '민수', '지민'],
    '키': [173, np.nan, 180, 165],
    '몸무게': [70, 55, np.nan, 48]
}
df = pd.DataFrame(data)
```
## 활동 내용
### 진도
1. 결측치 확인
- ```isnull()``` : 결측치가 있는지 확인
```python
print(df.isnull().sum())

#결과
이름     0
키      1
몸무게    1
dtype: int64
```

2. 결측치 메꾸기
- ```fillna()``` : 결측치를 특정한 값으로 채우기
```python
df['키']=df['키'].fillna(df['키'].mean())
df['몸무게']=df['몸무게'].fillna(df['몸무게'].mean())

#결과
   이름           키        몸무게
0  철수  173.000000  70.000000
1  영희  172.666667  55.000000
2  민수  180.000000  57.666667
3  지민  165.000000  48.000000
```
- ```interpolate()``` : 결측치를 주변 값을 사용해 메꾸기
```python
df1 = pd.DataFrame({
    '날짜': pd.date_range('2025-06-01', periods=5),
    '체중': [70, np.nan, np.nan, 76, 77]
})

>>>
          날짜    체중
0 2025-06-01  70.0
1 2025-06-02   NaN
2 2025-06-03   NaN
3 2025-06-04  76.0
4 2025-06-05  77.0
```
```python
df1['체중']=df1['체중'].interpolate()

#결과
          날짜    체중
0 2025-06-01  70.0
1 2025-06-02  72.0
2 2025-06-03  74.0
3 2025-06-04  76.0
4 2025-06-05  77.0
```

3. 결측치 없애기
- ```dropna()```
```python
   이름      키   몸무게
0  철수  173.0  70.0
3  지민  165.0  48.0
```

### 예제 풀이
- 1주차 내용을 기반으로 예제 풀이를 진행함
- 아래와 같은 데이터를 쳇 지피티를 통해 생성 후 처리
```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib
data = {
    '이름': ['지훈', '민서', '서준', '예은', '도윤', '수아', '현우', '하은'],
    '성별': ['남', '여', '남', '여', '남', '여', '남', '여'],
    '키(cm)': [173, 160, np.nan, 158, 180, 155, np.nan, 165],
    '몸무게(kg)': [70, 55, 80, 48, 85, 45, np.nan, np.nan],
    '운동횟수': [3, 0, 5, 1, 7, 0, 2, 0]
}
df = pd.DataFrame(data)
```

1. 결측치 파악 및 처리
```python
df.isnull().sum()

#결과
이름         0
성별         0
키(cm)      2
몸무게(kg)    2
운동횟수       0
dtype: int64
```
```python
df['키(cm)']=df['키(cm)'].interpolate()
df['몸무게(kg)']=df['몸무게(kg)'].interpolate()

#결과
   이름 성별  키(cm)  몸무게(kg)  운동횟수
0  지훈  남  173.0     70.0     3
1  민서  여  160.0     55.0     0
2  서준  남  159.0     80.0     5
3  예은  여  158.0     48.0     1
4  도윤  남  180.0     85.0     7
5  수아  여  155.0     45.0     0
6  현우  남  160.0     45.0     2
7  하은  여  165.0     45.0     0
```

2. 파생변수 만들기(bmi / 비만,과체중,정상,저체중 표시)
```python
df['bmi']=df.apply(lambda row: row['몸무게(kg)'] / ((row['키(cm)'] / 100) ** 2), axis=1)

def grade(bmi):
    if bmi>=30:
        return '비만'
    elif bmi >= 25:
        return '과체중'
    elif bmi >= 18.5:
        return '정상'
    else:
        return '저체중'
df['비만도']=df['bmi'].apply(grade)

#결과
   이름 성별  키(cm)  몸무게(kg)  운동횟수        bmi  비만도
0  지훈  남  173.0     70.0     3  23.388687   정상
1  민서  여  160.0     55.0     0  21.484375   정상
2  서준  남  159.0     80.0     5  31.644318   비만
3  예은  여  158.0     48.0     1  19.227688   정상
4  도윤  남  180.0     85.0     7  26.234568  과체중
5  수아  여  155.0     45.0     0  18.730489   정상
6  현우  남  160.0     45.0     2  17.578125  저체중
7  하은  여  165.0     45.0     0  16.528926  저체중
```

3. value_counts로 통계 뽑기(비만도 비율 제시)
```python
print(df['비만도'].value_counts(normalize=True))

#결과
비만도
정상     0.500
저체중    0.250
비만     0.125
과체중    0.125
Name: proportion, dtype: float64
```

4. 시각화
- 운동횟수 기준 히스토그램
```python
df['운동횟수'].plot(kind='hist')
```
[그래프1](ex1.png)

- 비만도별 인원수 바 차트
```python
df['비만도'].value_counts().plot(kind='bar')
```
[그래프2](ex2.png)
